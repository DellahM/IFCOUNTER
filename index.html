<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dellah's Fasting Counter</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="./styles.css">
    <link rel="manifest" href="./manifest.json">
    <meta name="theme-color" content="#6c5ce7">
    <!-- iOS Support -->
    <link rel="apple-touch-icon" href="./icons/icon-192.png">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <style>
        /* Fallback styles */
        body { padding: 10px; font-size: 14px; }
        button { padding: 6px 10px; }
    </style>
</head>
<body>
    <div class="app-container">
        <header>
            <h1><i class="fas fa-clock"></i>Intermittent Fasting Counter </h1>
            <div class="streak">üî• <span id="streak-count">0</span>d</div>
        </header>

        <!-- Tab System -->
        <div class="tab-container">
            <div class="tab active" data-tab="timer">Timer</div>
            <div class="tab" data-tab="metrics">Metrics</div>
            <div class="tab" data-tab="history">History</div>
        </div>

        <!-- Timer Tab -->
        <div class="tab-content active" id="timer-tab">
            <div class="card">
                <div class="protocol-selector">
                    <select id="protocol">
                      <option value="16">16:8 Protocol</option>
                      <option value="18">18:6 Protocol</option>
                      <option value="20">20:4 Protocol</option>
                      <option value="custom">Custom Hours</option>
                    </select>
                    <input type="number" id="custom-hours" placeholder="Hours" style="display: none; margin-top: 8px;">
                  </div>
                
                <div class="timer-display" id="timer">00:00:00</div>
                
                <div class="progress-bar">
                    <div id="progress"></div>
                </div>
                
                <div class="timer-controls">
                    <button id="start-btn" class="btn-primary"><i class="fas fa-play"></i> Start</button>
                    <button id="pause-btn" class="btn-secondary" disabled><i class="fas fa-pause"></i> Pause</button>
                    <button id="end-btn" class="btn-danger" disabled><i class="fas fa-stop"></i> End</button>
                </div>
            </div>
        </div>

        <!-- Metrics Tab -->
        <div class="tab-content" id="metrics-tab">
            <div class="card collapsible">
                <div class="collapsible-header">
                    <h3><i class="fas fa-weight"></i> Weight</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapsible-content">
                    <div class="weight-input">
                        <label>Before (kg):</label>
                        <input type="number" id="weight-before" step="0.1">
                    </div>
                    <div class="weight-input">
                        <label>After (kg):</label>
                        <input type="number" id="weight-after" step="0.1" disabled>
                    </div>
                </div>
            </div>

            <div class="card collapsible">
                <div class="collapsible-header">
                    <h3><i class="fas fa-tint"></i> Water</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapsible-content">
                    <div class="water-tracker">
                        <button id="water-minus" class="btn-icon"><i class="fas fa-minus"></i></button>
                        <span id="water-count">0</span> ml
                        <button id="water-plus" class="btn-icon"><i class="fas fa-plus"></i></button>
                    </div>
                </div>
            </div>

            <div class="card collapsible">
                <div class="collapsible-header">
                    <h3><i class="fas fa-battery-three-quarters"></i> Energy</h3>
                    <i class="fas fa-chevron-down"></i>
                </div>
                <div class="collapsible-content">
                    <div class="energy-levels">
                        <span data-level="1">üò¥</span>
                        <span data-level="2">üòï</span>
                        <span data-level="3">üòê</span>
                        <span data-level="4">üòä</span>
                        <span data-level="5">üí™</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- History Tab -->
        <div class="tab-content" id="history-tab">
            <div class="card">
                <div class="table-container">
                    <table id="history-table">
                        <thead>
                            <tr>
                                <th>Date</th>
                                <th>Duration</th>
                                <th>Œî Weight</th>
                                <th>Water</th>
                                <th>Energy</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>

        <!-- Compact Mode Toggle -->
        <div class="compact-toggle">
            <button id="toggle-compact"><i class="fas fa-compress-alt"></i> Compact Mode</button>
        </div>
    </div>

    <script src="./script.js"></script>
</body>
</html>